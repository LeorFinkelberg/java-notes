Анонимный класс это особый тип классов, который _объявляется и инстанцируется одновременно_, без явного указания имени. Анонимные классы используются для создания экземпляра класса "на лету", _обычно для реализации интерфейсов_ или _расширения классов без необходимости создания отдельного именованного класса_.

Основные особенности анонимных классов:
- Анонимный класс не имеет имени, поэтому его нельзя использовать повторно. Он создается и используется только в одном месте кода.
- Анонимный класс объявляется и создается одновременно с использованием оператора `new`.
- Анонимный класс может либо реализовывать интерфейс, либо расширять существующий класс (даже абстрактный).
- Анонимный класс может обращаться к переменным окружающего метода, но только если они являются `final` или effectively final (то есть не изменяются после создания).

Синтаксис 
```java
new NameOfInterfaceOrClass() {
  // Реализация методов или добавление новых
}
```

Пример реализации ==интерфейса== `Runnable`
```java
Runnable task = new Runnable() { // new {} implements Runnable { ...
  @Override
  public void run() {
    System.out.println("...");
  }
};

task.run();
```
Здесь мы создаем анонимный класс, реализующий интерфейс `Runnable`, переопределяем метод `run()`, создаем экземпляр этого класса и сохраняем его в переменную `task` .

Пример расширения класса
```java
class Animal {
  void makeSound() {
    System.out.println("Some sound");
  }
}

Animal dog = new Animal() { // new {} extends Animal { ...
  @Override
  void makeSound() {
    System.out.println("Woof!");
  }
}

dog.makeSound();
```
Здесь мы создаем анонимный класс, который расширяет класс `Animal`, переопределяем метод `makeSound()`, создаем экземпляр класса и сохраняем его в переменную `dog`.

Лямбда-выражения ограничены _функциональными интерфейсами_. Если нужно создать _экземпляр абстрактного класса_, то это можно сделать с помощью анонимного класса, но не лямбда-выражения. Аналогично анонимные классы можно использовать для создания _экземпляров интерфейсов_ с несколькими абстрактными методами. В анонимном классе ключевое слово `this` ссылается на _экземпляр анонимного класса_ [[Список литературы]]<c. 249>

Из лямбда-выражения можно прочесть только _финальные_ или _фактически финальные_ переменные и нельзя изменять никакие локальные переменные [[Список литературы]]<c. 262>

==Операция `forEach` должна использоваться только для того, чтобы вывести результат потоковых вычислений, но не для выполнения вычислений== [[Список литературы]]<c. 266>. Пример
```java
Map<String, Long> freq;

try (Stream<String> words = new Scanner(file).tokens()) {
  freq = words
           .collect(groupingBy(String::toLowerCase, counting()));
}
```

